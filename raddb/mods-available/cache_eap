cache cache_eap {
	driver = "rlm_cache_memcached"

	#
	#  Some drivers accept specific options, to set them a
	#  config section with the the name as the driver should be added
	#  to the cache instance.
	#
	#  Driver specific options are:
	#
	memcached {
		# Memcached configuration options, as documented here:
		#    http://docs.libmemcached.org/libmemcached_configuration.html#memcached
		options = "--SERVER=localhost"

		pool {
			start = ${thread[pool].start_servers}
			min = ${thread[pool].min_spare_servers}
			max = ${thread[pool].max_servers}
			spare = ${thread[pool].max_spare_servers}
			uses = 0
			lifetime = 0
			idle_timeout = 60
		}
	}
	#
	#  key:: Cache key.
	#
	key = "%{reply:State}"

	#
	#  ttl:: TTL for cache entries.
	#
	ttl = 15

	#
	#  update <section> { ... }::
	#
	update reply {
		&reply += &reply
	}
}
