<?php
function init_decoder()
{
	$k = array(
		"Â€"=>"~@", "Â"=>"~A", "Â‚"=>"~B", "Âƒ"=>"~C", "Â„"=>"~D", "Â…"=>"~E",
		"Â†"=>"~F", "Â‡"=>"~G", "Âˆ"=>"~H", "Â‰"=>"~I", "ÂŠ"=>"~J", "Â‹"=>"~K",
		"ÂŒ"=>"~L", "Â"=>"~M", "ÂŽ"=>"~N", "Â"=>"~O", "Â"=>"~P", "Â‘"=>"~Q",
		"Â’"=>"~R", "Â“"=>"~S", "Â”"=>"~T", "Â•"=>"~U", "Â–"=>"~V", "Â—"=>"~W",
		"Âž"=>"~^", "ÂŸ"=>"~_", "Â "=>"| ", "Ê½"=>"¡", "Ê¼"=>"¢", "Â£"=>"£",
		"ï¿½"=>"¤", "ï¿½"=>"¥", "Â¦"=>"¦", "Â§"=>"§", "Â¨"=>"¨", "Â©"=>"©",
		"ï¿½"=>"ª", "Â«"=>"«", "Â¬"=>"¬", "Â­"=>"­", "ï¿½"=>"®", "â€•"=>"¯",
		"Â°"=>"°", "Â±"=>"±", "Â²"=>"²", "Â³"=>"³", "Î„"=>"´", "Î…"=>"µ",
		"Î†"=>"¶", "Â·"=>"·", "Îˆ"=>"¸", "Î‰"=>"¹", "ÎŠ"=>"º", "Â»"=>"»",
		"ÎŒ"=>"¼", "Â½"=>"½", "ÎŽ"=>"¾", "Î"=>"¿", "Î"=>"À", "Î‘"=>"Á",
		"Î’"=>"Â", "Î“"=>"Ã", "Î”"=>"Ä", "Î•"=>"Å", "Î–"=>"Æ", "Î—"=>"Ç",
		"Î˜"=>"È", "Î™"=>"É", "Îš"=>"Ê", "Î›"=>"Ë", "Îœ"=>"Ì", "Î"=>"Í",
		"Îž"=>"Î", "ÎŸ"=>"Ï", "Î "=>"Ð", "Î¡"=>"Ñ", "ï¿½"=>"Ò", "Î£"=>"Ó",
		"Î¤"=>"Ô", "Î¥"=>"Õ", "Î¦"=>"Ö", "Î§"=>"×", "Î¨"=>"Ø", "Î©"=>"Ù",
		"Îª"=>"Ú", "Î«"=>"Û", "Î¬"=>"Ü", "Î­"=>"Ý", "Î®"=>"Þ", "Î¯"=>"ß",
		"Î°"=>"à", "Î±"=>"á", "Î²"=>"â", "Î³"=>"ã", "Î´"=>"ä", "Îµ"=>"å",
		"Î¶"=>"æ", "Î·"=>"ç", "Î¸"=>"è", "Î¹"=>"é", "Îº"=>"ê", "Î»"=>"ë",
		"Î¼"=>"ì", "Î½"=>"í", "Î¾"=>"î", "Î¿"=>"ï", "Ï€"=>"ð", "Ï"=>"ñ",
		"Ï‚"=>"ò", "Ïƒ"=>"ó", "Ï„"=>"ô", "Ï…"=>"õ", "Ï†"=>"ö", "Ï‡"=>"÷",
		"Ïˆ"=>"ø", "Ï‰"=>"ù", "ÏŠ"=>"ú", "Ï‹"=>"û", "ÏŒ"=>"ü", "Ï"=>"ý",
		"ÏŽ"=>"þ", "Â˜"=>"~X", "Â™"=>"~Y", "Âš"=>"~Z", "Â›"=>"~[", "Â"=>"~]"
	);

	return $k;
}

function decode_string($line,$k)
{
	$line = ereg_replace("&","&&",$line);
	$line = ereg_replace("([,+0-9./() -])", "%\\1", $line);
	$mline = chunk_split($line, 2, " ");
	$chars = explode(" ", $mline);
	foreach ($chars as $c){
		$val = $k["$c"];
		$c = ($val != "") ? "$val" : "$c";
		$new_line .= $c;
	}
	$new_line = ereg_replace("%%", " ", $new_line);
	$new_line = ereg_replace("%([,+0-9./() -])", "\\1", $new_line);
	$new_line = ereg_replace("%", " ",$new_line);
	$new_line = ereg_replace("&&","&",$new_line);

	return $new_line;
}
?>
