#  This needs to be cleared explicitly, as the libfreeradius-json.mk
#  might not always be available, and the TARGETNAME from the previous
#  target may stick around.
TARGETNAME	:=
-include $(top_builddir)/src/lib/json/all.mk

#  Add libfreeradius-json to the prereqs (so rlm_rest links to it)
ifneq "$(TARGETNAME)" ""
TGT_PREREQS := libfreeradius-json$(L)
TARGETNAME  := @targetname@
TARGET      := $(TARGETNAME)$(L)
endif

SRC_CFLAGS  := @mod_cflags@
TGT_LDLIBS  := @mod_ldflags@

SOURCES     := $(TARGETNAME).c mod.c couchbase.c
LOG_ID_LIB  = 7
