#
#  PRE: foreach
#
string total

#
#  Try to delete one of the variables we're looping over.  If the user could delete one,
#  then the underlying tmpl_dcursor would crash, as it didn't know about the deletion.
#
foreach string value (request.[*]) {
	total += value
	total += ', '
}

if (total != "bob, hello, Access-Request, ") {
	test_fail
}

success
