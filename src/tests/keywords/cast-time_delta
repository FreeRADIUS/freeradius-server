#
#  PRE: if
#
date one
date two
time_delta diff
time_delta diff2
uint32 num

if (%cast("ms", 60s) != (uint32) 60000) {
	test_fail
}

if (0) {
#
#  And then for dates
#
&one = "2024-08-12T00:00:00Z"
&two = "2024-08-12T00:01:00Z"

&diff = &two - &one
if (&diff != 60) {
	test_fail
}

#
#  Cast the time delta to milliseconds
#
&num = %cast("ms", %{diff})

#
#  This results in 60, because the conversion to fr_value_box_cast() doesn't pass dst->enumv?
#
if (&num != 60000) {
	test_fail
}
}

success
